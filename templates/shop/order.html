{% extends 'shop/base.html' %}

{% block content %}
<div class="pb-5">
    <div class="container">
      <div class="row">
        <div class="col-lg-12 p-5 bg-white rounded shadow-sm mb-5">
          <div class="table-responsive">
            <table class="table">
              <thead>
    {% for item in cart %}
                  <tr id="block{{ item.id }}">
                  <th scope="row">
                    <div class="p-2">
                        <img src='{{ item.images }}' alt="" width="70" class="img-fluid rounded shadow-sm">
                      <div class="ml-3 d-inline-block align-middle">
                        <h5 class="mb-0"><a href="#" class="text-dark d-inline-block">{{ item.name }}</a></h5><span class="text-muted font-weight-normal font-italic">Category: {{ item.category }}</span>
                      </div>
                    </div>
                  </th>
                  <td class="align-middle"><strong id="price{{ item.id }}">₽{{ item.total_price }}</strong></td>
                  <td class="align-middle">
                    <strong>
                        <div class="qty mt-5">
                            <span class="minus bg-dark" onClick="reply_click_minus({{ item.id }}, {{ item.price }}, {{ item.quantity }})">-</span>
                                <input type="number" class="count" id="{{ item.id }}" name="qty" value="{{ item.quantity }}">
                            <span class="plus bg-dark" onClick="reply_click_plus({{ item.id }}, {{ item.price }}, {{ item.quantity }})">+</span>
                        </div>
                    </strong>
                  </td>
                  <td class="align-middle"><a href="#" class="text-dark" onclick="remove_element({{ item.id }})">remove</a></td>
                </tr>
              {% endfor %}
            </tbody>
            </table>
          </div>
          <div class="row justify-content-md-center py-5 p-4 bg-white">
          <div class="col-md-auto">
          <div class="bg-light rounded-pill px-4 py-3 text-uppercase font-weight-bold">Order summary </div>
          <div class="p-4">
            <p class="font-italic mb-4">Shipping and additional costs are calculated based on values you have entered.</p>
            <ul class="list-unstyled mb-4">
              <li class="d-flex justify-content-between py-3 border-bottom"><strong class="text-muted">Total</strong>
                <h5 class="font-weight-bold" id="total_price">₽{{ total_price }}</h5>
              </li>
            </ul><a href="#" class="btn btn-dark rounded-pill py-2 btn-block">Procceed to checkout</a>
          </div>
        </div>
        </div>
        </div>
      </div>
    </div>
</div>
{% endblock %}